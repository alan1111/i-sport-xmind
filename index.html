<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=8"
    />
    <!-- <link rel="stylesheet" type="text/css" href="./dist/kmsjsmap.min.css"> -->
    <link rel="stylesheet" type="text/css" href="./src/kmsjsmap.css" />
    <title>华北大魏有限公司组织架构 - 思维导图</title>
    <style>
      #jsmind_container {
        height: 960px;
      }
    </style>
  </head>

  <body>
    <a
      id="screenShot"
      href="javascript: void(0);"
      class="sui-btn btn-xlarge btn-primary"
      >截图</a
    >
    <div id="img"></div>
    <div id="jsmind_container"></div>
    <!-- <script src="./lib/jquery.min.js"></script> -->
    <!-- <script src="./dist/kmsjsmap.min.js" type="text/javascript"></script> -->
    <script src="./src/kmsjsmap.js" type="text/javascript"></script>
    <script type="text/javascript">
      var content = [
    {
      "id": "sub1",
      "parentid": null,
      "topic": "1111\n男\n30岁\n438.00元",
      "subNum": 1,
      "line": 1,
      "deep": 3
    },
    {
      "id": "subsub11",
      "parentid": "sub1",
      "topic": "太平洋全家保人身意外保险\n保额/元 20万\n保障期间 1年期\n缴费期间 一次交清\n保费/元 438.00\n",
      "subNum": 2,
      "line": 1
    },
    {
      "id": "subsubsub111",
      "parentid": "subsub11",
      "topic": "意外身故/残疾<span style='color: #ff6e0d'>20万/每人</span>",
      "subNum": 3,
      "line": 1
    },
    {
      "id": "subsubsub112",
      "parentid": "subsub11",
      "topic": "意外伤害医疗<span style='color: #ff6e0d'>2万/全家</span>",
      "subNum": 3,
      "line": 1
    },
    {
      "id": "subsubsub113",
      "parentid": "subsub11",
      "topic": "意外住院津贴<span style='color: #ff6e0d'>0.9万/每人</span>",
      "subNum": 3,
      "line": 1
    },
    {
      "id": "subsubsub114",
      "parentid": "subsub11",
      "topic": "意外伤害救护车费用<span style='color: #ff6e0d'>2000元/每人万</span>",
      "subNum": 3,
      "line": 1
    }
  ]
      content = content.map(item => {
        const {id, parentid, topic, subNum} = item
        if (!parentid) {
          return {
            id,
            isroot: true,
            topic,
            subNum,
          }
        }
        return item;
      })
      kmsjsmap.init({
        container: "jsmind_container",
        data: content,
        test: '4'
      });

      document.getElementById("screenShot").onclick = function () {
        kmsjsmap.shootAsDataURL(function (data) {
          document.getElementById("img").innerHTML = `<img src='${data}'>`;
        });
      };
    </script>
  </body>
</html>
